# üõ°Ô∏è PLAN DE ASEGURAMIENTO DE CALIDAD (QA) - SEGURIDAD INFORM√ÅTICA
# Proyecto: HabiTechs (Backend .NET / Frontend Flutter)
# Rama: 43-qa-02-pruebas-de-seguridad
# Versi√≥n: 1.0

## 1. OBJETIVO GENERAL
Garantizar que la arquitectura del sistema mitigue las vulnerabilidades m√°s comunes (OWASP Top 10) antes del despliegue en producci√≥n, asegurando la integridad y confidencialidad de los datos de la organizaci√≥n.

## 2. ALCANCE (SCOPE)
La investigaci√≥n y pruebas se centran en dos vectores principales:
* **Backend API (.NET Core):** Validaci√≥n de endpoints, autenticaci√≥n y acceso a datos.
* **Frontend (Flutter):** Almacenamiento seguro local y ofuscaci√≥n de c√≥digo.

## 3. METODOLOG√çA (ENFOQUE √ÅGIL)
Se utilizar√° una estrategia h√≠brida de an√°lisis est√°tico y din√°mico simplificado:

### A. Pruebas Est√°ticas (SAST) - Revisi√≥n de C√≥digo
* **Gesti√≥n de Secretos:** Verificar que NO existan `ConnectionStrings`, `API Keys` o credenciales "hardcodeadas" en el repositorio (usar Azure Key Vault / Variables de Entorno).
* **Dependencias:** Auditor√≠a de paquetes NuGet y Pub.dev para detectar librer√≠as con vulnerabilidades conocidas (`dotnet list package --vulnerable`).

### B. Pruebas Din√°micas (DAST) - Ejecuci√≥n
* **Validaci√≥n de Entradas:** Pruebas de env√≠o de datos maliciosos (SQL Injection, XSS) en formularios de login y registro.
* **Control de Acceso (RBAC):** Verificar que un usuario con rol "Est√°ndar" no pueda acceder a endpoints de "Administrador".

## 4. LISTA DE VERIFICACI√ìN (CHECKLIST) DE SEGURIDAD

### üîí Backend (.NET)
- [ ] **Inyecci√≥n SQL:** Uso estricto de Entity Framework (ORM) evitando consultas SQL crudas concatenadas.
- [ ] **Autenticaci√≥n:** Implementaci√≥n correcta de JWT (JSON Web Tokens) con tiempo de expiraci√≥n y firma segura.
- [ ] **Manejo de Errores:** La API no debe devolver "Stack Traces" o detalles del servidor en errores 500 al cliente.
- [ ] **HTTPS:** Redirecci√≥n forzada de HTTP a HTTPS.

### üì± Frontend (Flutter)
- [ ] **Almacenamiento Seguro:** Uso de `flutter_secure_storage` en lugar de `SharedPreferences` para guardar tokens.
- [ ] **Ofuscaci√≥n:** Configuraci√≥n de compilaci√≥n para ofuscar el c√≥digo en release y dificultar la ingenier√≠a inversa.
- [ ] **Permisos:** El manifiesto (Android/iOS) solicita solo los permisos estrictamente necesarios.

## 5. HERRAMIENTAS SUGERIDAS (OPEN SOURCE)
1.  **SonarQube / SonarLint:** Para detecci√≥n autom√°tica de "Code Smells" y brechas de seguridad en el IDE.
2.  **OWASP ZAP (Opcional):** Para escaneo automatizado de vulnerabilidades en la API desplegada.

---
*Documento aprobado para la rama 43-qa-02.*